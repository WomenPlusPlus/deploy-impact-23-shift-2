<div
    class="flex flex-col items-stretch justify-center lg:max-w-screen-lg p-10 mx-auto card bg-base-200 mt-10"
    *ngIf="vm$ | async as vm"
>
    <ng-container *ngIf="!vm.submitted; else submittedContainer">
        <h1 class="text-3xl mb-5">
            Edit Company <i *ngIf="previousName">"{{ previousName }}"</i>
        </h1>
        <form (ngSubmit)="onSubmit()">
            <app-company-form [form]="form" [previousImage]="previousPhotoURL || ''"></app-company-form>
            <button
                class="btn btn-primary btn-wide float-right"
                type="submit"
                [disabled]="form.invalid || form.pristine || vm.submitting"
            >
                Save
            </button>
        </form>
    </ng-container>
    <ng-template #submittedContainer>
        <div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6">
            <div class="mx-auto max-w-screen-sm text-center">
                <p class="mb-8 text-3xl tracking-tight font-bold text-gray-900 md:text-4xl dark:text-white">
                    Company {{ form.controls.name.value }} was updated!
                </p>
                <a
                    [routerLink]="['/']"
                    class="inline-flex text-white bg-primary-600 hover:bg-primary-800 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:focus:ring-primary-900 my-4"
                    >Back to Homepage</a
                >
            </div>
        </div>
    </ng-template>
</div>
